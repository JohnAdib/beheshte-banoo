{%extends display.mvc%}
{%block header_def%}{%endblock%}


{%block content_def%}
<div class="center report" data-xhr="center">
 <div class="content">
{%if error%}
  <div id="chart-error">{{error}}</div>
{%else%}
{%endif%}
  <div id="chart" style="width:100%; height:530px;"></div>
 
  <div id="report-nav">
   <a href="/summary">{%trans "summary reports"%}</a> |
   <a href="/date/booth">{%trans "popular booths"%}</a> |
   <a href="/date">{%trans "show all visitors groupby date"%}</a>{
   <a href="/date/birthdate">{%trans "by"%} {%trans "birthdate"%}</a>
   <a href="/date/province">{%trans "by"%} {%trans "province"%}</a>
   <a href="/date/gender">{%trans "by"%} {%trans "gender"%}</a>}
  </div>
 </div>
</div>
{%endblock%}






 
{%block foot_js%}
{%if chart_labels%}





 <script type="text/javascript">
  $(function () { 
    $('#chart').highcharts({
      chart: { type: 'line' },
      title: { text: '{{global.title}}' },
      xAxis: { categories: [{%for date in chart_labels%}'{{date|date("m/d")}}', {%endfor%}] },
      yAxis: { title: {text: '{%trans "Count"%}'} },
      tooltip: { valueSuffix: ' {%trans "Person"%}' },
      legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'middle',
        borderWidth: 0
      },
      series:
      [
{%for name, datarow in chart_series%}
      {
        name: '{{name}}',
        data: [ {%for value in datarow%}{{value}},{%endfor%} ],
      },
{%endfor%}
      ]
    });
  });
 </script>
{%endif%}
{%endblock%}